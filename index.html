<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Volumen y Factor de Compresibilidad</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css">
    <script src="main.js"></script>
</head>
<body>
    <div class="container">
        <h1 class="text-3xl font-extrabold text-center mb-6">
            <span class="text-indigo-400">Calculadora</span> de Volumen y Factor de Compresibilidad
        </h1>
        <p class="text-center mb-8">
            Ingrese los parámetros para calcular el volumen de un gas real usando la ecuación virial
            y el factor de compresibilidad (Z).
            El cálculo se detendrá cuando el volumen del gas real haya convergido.
        </p>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mb-8">
            <div class="input-group">
                <label for="R_val" class="block text-sm mb-1">Constante de Gas :</label>
                <input type="number" id="R_val" value="0.08206" step="0.00001">
            </div>
            <div class="input-group">
                <label for="T_val" class="block text-sm mb-1">Temperatura :</label>
                <input type="number" id="T_val" value="300">
            </div>
            <div class="input-group">
                <label for="P_val" class="block text-sm mb-1">Presión :</label>
                <input type="number" id="P_val" value="10">
            </div>
            <div class="input-group">
                <label for="B_val" class="block text-sm mb-1">Coeficiente Virial (B):</label>
                <input type="number" id="B_val" value="-0.02" step="0.001">
            </div>
            <div class="input-group col-span-1 md:col-span-2">
                <label for="C_val" class="block text-sm mb-1">Coeficiente Virial (C):</label>
                <input type="number" id="C_val" value="0.001" step="0.0001">
            </div>
        </div>

        <button id="calculateBtn" class="btn w-full flex items-center justify-center space-x-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.309.73l-1.472 1.472A4 4 0 0011 9.472V16h2a1 1 0 110 2H7a1 1 0 110-2h2V9.472a4 4 0 00-2.219-3.722L4.309 6.73A1 1 0 014 6V3z" clip-rule="evenodd" />
            </svg>
            <span>Calcular Volumen y Z</span>
        </button>

        <div id="results" class="results-box hidden">
            <h3 class="text-xl font-bold mb-4">Resultados del Cálculo:</h3>
            <div class="result-item">
                <strong>Volumen Gas Ideal ($V_{ideal}$):</strong>
                <span id="vIdealOutput"></span>
            </div>
            <div class="result-item">
                <strong>Volumen Gas Real ($V_{real}$):</strong>
                <span id="vRealOutput"></span>
            </div>
            <div class="result-item">
                <strong>Factor de Compresibilidad (Z):</strong>
                <span id="zFactorOutput"></span>
            </div>
            <div class="result-item">
                <strong>Número de Iteraciones:</strong>
                <span id="iterationsOutput"></span>
            </div>

            <div id="iterationDetails" class="mt-6 pt-4 border-t border-gray-600 hidden">
                <h4 class="text-lg font-semibold mb-3">Detalles de la Iteración:</h4>
                <ul id="iterationList" class="list-disc list-inside text-gray-400">
                    </ul>
            </div>

            <div id="messageBox" class="message"></div>
        </div>
    </div>
</body>
</html>
